# ğŸ§˜ MindFlow - æ™ºèƒ½æµè§ˆå‹åŠ›ç›‘æµ‹ä¸è§†è§‰è§£å‹æ’ä»¶

MindFlow æ˜¯ä¸€æ¬¾åŸºäºç”¨æˆ·æµè§ˆè¡Œä¸ºåˆ†æçš„ Chrome æµè§ˆå™¨æ’ä»¶ï¼Œé€šè¿‡ç›‘æµ‹æ»šåŠ¨é€Ÿåº¦å’Œç‚¹å‡»é¢‘ç‡ï¼Œè®¡ç®—ã€Œæ•°å­—å‹åŠ›æŒ‡æ•° (DSI)ã€ï¼Œå¹¶è‡ªåŠ¨è¿›è¡Œä¸‰çº§è§†è§‰è§£å‹å¹²é¢„ã€‚

## âœ¨ æ ¸å¿ƒåŠŸèƒ½

### ğŸ¯ æ•°å­—å‹åŠ›æŒ‡æ•° (DSI) ç®—æ³•

æ’ä»¶ä¼šå®æ—¶ç›‘æµ‹ç”¨æˆ·çš„æµè§ˆè¡Œä¸ºï¼Œå¹¶è®¡ç®— 0-100 çš„å‹åŠ›æŒ‡æ•°ï¼š

| è¡Œä¸ºæŒ‡æ ‡ | è§¦å‘æ¡ä»¶ | DSI å˜åŒ– |
|---------|---------|----------|
| é«˜é€Ÿæ»šåŠ¨ | æ»šåŠ¨é€Ÿåº¦ > 1500px/s | +5/æ¬¡ |
| é«˜é¢‘ç‚¹å‡» | ç‚¹å‡»é¢‘ç‡ > 3æ¬¡/s | +8/æ¬¡ |
| è‡ªç„¶æµè§ˆ | æŒç»­æµè§ˆ | +0.5/ç§’ |
| é™æ­¢ä¼‘æ¯ | é¡µé¢é™æ­¢ > 10ç§’ | -2/ç§’ |

### ğŸŒˆ ä¸‰çº§å¹²é¢„ç³»ç»Ÿ

| çº§åˆ« | DSI é˜ˆå€¼ | å¹²é¢„æ–¹å¼ |
|-----|---------|---------|
| **Level 1** | DSI > 30 | ğŸŒ™ **æŸ”å’Œæ¨¡å¼** - è°ƒæ•´é¡µé¢è‰²æ¸©ï¼Œé™ä½äº®åº¦ï¼ŒæŠ¤çœ¼æ•ˆæœ |
| **Level 2** | DSI > 60 | ğŸ“– **é˜…è¯»æ¨¡å¼** - æå–æ­£æ–‡å†…å®¹ï¼Œæ˜¾ç¤ºçº¯å‡€æ–‡æœ¬ + AI æ‘˜è¦åŠŸèƒ½ |
| **Level 3** | DSI > 80 | ğŸ§˜ **è§†è§‰ç–—æ„ˆ** - å…¨å± p5.js æµä½“åŠ¨ç”»ï¼Œ5ç§’èˆ’ç¼“ä½“éªŒ |

## ğŸ“¦ å®‰è£…æŒ‡å—

### æ–¹å¼ä¸€ï¼šä¸€é”®å®‰è£…ï¼ˆæ¨èï¼‰

1. **ä¸‹è½½é¡¹ç›®**
   ```bash
   git clone https://github.com/your-username/mindflow.git
   cd mindflow
   ```

2. **è¿è¡Œå®‰è£…è„šæœ¬**
   
   Windows PowerShell:
   ```powershell
   .\scripts\setup.ps1
   ```
   
   è„šæœ¬å°†è‡ªåŠ¨ï¼š
   - ä¸‹è½½ p5.js åº“
   - ç”Ÿæˆä¸´æ—¶å›¾æ ‡æ–‡ä»¶

3. **åŠ è½½æ‰©å±•**
   - æ‰“å¼€ Chrome æµè§ˆå™¨
   - è®¿é—® `chrome://extensions/`
   - å¼€å¯å³ä¸Šè§’ã€Œå¼€å‘è€…æ¨¡å¼ã€
   - ç‚¹å‡»ã€ŒåŠ è½½å·²è§£å‹çš„æ‰©å±•ç¨‹åºã€
   - é€‰æ‹©é¡¹ç›®æ–‡ä»¶å¤¹

4. **éªŒè¯å®‰è£…**
   - æ’ä»¶å›¾æ ‡åº”å‡ºç°åœ¨æµè§ˆå™¨å·¥å…·æ 
   - è®¿é—®ä»»æ„ç½‘é¡µï¼Œå›¾æ ‡ä¸Šä¼šæ˜¾ç¤ºå½“å‰ DSI æ•°å€¼

### æ–¹å¼äºŒï¼šæ‰‹åŠ¨å®‰è£…

1. **ä¸‹è½½ p5.js åº“**
   - è®¿é—® [p5.js å®˜ç½‘](https://p5js.org/download/)
   - ä¸‹è½½ `p5.min.js`
   - å°†æ–‡ä»¶æ”¾å…¥ `lib/` ç›®å½•

2. **å‡†å¤‡å›¾æ ‡æ–‡ä»¶**
   - åœ¨ `icons/` ç›®å½•ä¸‹åˆ›å»ºä¸‰ä¸ªå°ºå¯¸çš„å›¾æ ‡ï¼š
     - `icon16.png` (16x16)
     - `icon48.png` (48x48)
     - `icon128.png` (128x128)

3. **åŠ è½½æ‰©å±•**ï¼ˆåŒä¸Šï¼‰

## ğŸ“ é¡¹ç›®ç»“æ„

```
MindFlow/
â”œâ”€â”€ manifest.json       # Chrome Extension é…ç½®æ–‡ä»¶ (MV3)
â”œâ”€â”€ background.js       # Service Worker - DSI æ ¸å¿ƒç®—æ³•
â”œâ”€â”€ content.js          # å†…å®¹è„šæœ¬ - è¡Œä¸ºç›‘å¬ & å¹²é¢„æ‰§è¡Œ
â”œâ”€â”€ style.css           # æ ·å¼è¡¨ - ä¸‰çº§å¹²é¢„è§†è§‰æ ·å¼
â”œâ”€â”€ lib/
â”‚   â””â”€â”€ p5.min.js       # p5.js åº“ (éœ€æ‰‹åŠ¨ä¸‹è½½)
â”œâ”€â”€ icons/
â”‚   â”œâ”€â”€ icon16.png      # å·¥å…·æ å›¾æ ‡
â”‚   â”œâ”€â”€ icon48.png      # æ‰©å±•ç®¡ç†é¡µå›¾æ ‡
â”‚   â””â”€â”€ icon128.png     # Chrome å•†åº—å›¾æ ‡
â””â”€â”€ README.md           # è¯´æ˜æ–‡æ¡£
```

## âš™ï¸ é…ç½® AI æ‘˜è¦åŠŸèƒ½

é˜…è¯»æ¨¡å¼æ”¯æŒè°ƒç”¨ LLM API ç”Ÿæˆæ–‡ç« æ‘˜è¦ã€‚éœ€è¦åœ¨ Chrome DevTools Console ä¸­é…ç½®ï¼š

```javascript
// æ‰“å¼€ä»»æ„ç½‘é¡µçš„å¼€å‘è€…å·¥å…· (F12)
// åœ¨ Console ä¸­æ‰§è¡Œï¼š

chrome.storage.local.set({
  apiKey: 'your-api-key-here',
  apiEndpoint: 'https://api.openai.com/v1/chat/completions' // å¯é€‰ï¼Œé»˜è®¤ OpenAI
});
```

æ”¯æŒçš„ API ç«¯ç‚¹ï¼š
- OpenAI: `https://api.openai.com/v1/chat/completions`
- Azure OpenAI: `https://your-resource.openai.azure.com/...`
- å…¶ä»–å…¼å®¹ OpenAI æ ¼å¼çš„ API

## ğŸ”§ æŠ€æœ¯æ¶æ„

### æ¶ˆæ¯é€šä¿¡æµç¨‹

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                     background.js (Service Worker)          â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚  DSI ç®—æ³•å¼•æ“                                        â”‚    â”‚
â”‚  â”‚  - æ¥æ”¶è¡Œä¸ºæ•°æ®                                      â”‚    â”‚
â”‚  â”‚  - è®¡ç®—å‹åŠ›æŒ‡æ•°                                      â”‚    â”‚
â”‚  â”‚  - åˆ¤æ–­å¹²é¢„çº§åˆ«                                      â”‚    â”‚
â”‚  â”‚  - å‘é€å¹²é¢„æŒ‡ä»¤                                      â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
            â–² BEHAVIOR_DATA                    â”‚ INTERVENTION
            â”‚                                  â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                     content.js (Content Script)              â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚  BehaviorMonitor     â”‚  â”‚  InterventionManager          â”‚ â”‚
â”‚  â”‚  - ç›‘å¬æ»šåŠ¨äº‹ä»¶       â”‚  â”‚  - Level 1: æŸ”å’Œæ¨¡å¼          â”‚ â”‚
â”‚  â”‚  - ç›‘å¬ç‚¹å‡»äº‹ä»¶       â”‚  â”‚  - Level 2: é˜…è¯»æ¨¡å¼          â”‚ â”‚
â”‚  â”‚  - è®¡ç®—é€Ÿåº¦/é¢‘ç‡      â”‚  â”‚  - Level 3: è§†è§‰ç–—æ„ˆ (p5.js)  â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### å…³é”®æŠ€æœ¯ç‚¹

1. **Manifest V3 Service Worker**
   - ä½¿ç”¨ `chrome.alarms` å®ç°ä¿æ´»
   - æ¯ä¸ªæ ‡ç­¾é¡µç‹¬ç«‹ç»´æŠ¤ DSI çŠ¶æ€

2. **p5.js Instance Mode**
   - é¿å…å…¨å±€ä½œç”¨åŸŸæ±¡æŸ“
   - ä¾¿äºå®ä¾‹é”€æ¯ä¸èµ„æºå›æ”¶

3. **éšç§ä¿æŠ¤**
   - æ‰€æœ‰æ•°æ®å­˜å‚¨åœ¨ `chrome.storage.local`
   - æ— ä»»ä½•ç½‘ç»œæ•°æ®ä¸Šä¼ 
   - AI æ‘˜è¦åŠŸèƒ½éœ€ç”¨æˆ·ä¸»åŠ¨é…ç½®

## ğŸ§ª è°ƒè¯•æŠ€å·§

### æŸ¥çœ‹ DSI çŠ¶æ€

```javascript
// åœ¨é¡µé¢ Console ä¸­æ‰§è¡Œ
chrome.runtime.sendMessage({ type: 'GET_DSI' }, (response) => {
  console.log('å½“å‰ DSI çŠ¶æ€:', response);
});
```

### é‡ç½® DSI

```javascript
chrome.runtime.sendMessage({ type: 'RESET_DSI' });
```

### æŸ¥çœ‹ Service Worker æ—¥å¿—

1. è®¿é—® `chrome://extensions/`
2. æ‰¾åˆ° MindFlow æ’ä»¶
3. ç‚¹å‡»ã€ŒService Workerã€é“¾æ¥
4. åœ¨æ‰“å¼€çš„ DevTools ä¸­æŸ¥çœ‹ Console

## ğŸ“ å¼€å‘è®¡åˆ’

- [ ] æ·»åŠ  Popup è®¾ç½®é¡µé¢
- [ ] æ”¯æŒè‡ªå®šä¹‰ DSI å‚æ•°
- [ ] æ·»åŠ æµè§ˆç»Ÿè®¡é¢æ¿
- [ ] æ”¯æŒç½‘ç«™ç™½åå•
- [ ] æ›´å¤šè§†è§‰ç–—æ„ˆåŠ¨ç”»ä¸»é¢˜

## ğŸ“„ è®¸å¯è¯

MIT License

---

**ğŸŒŸ è®©æ¯ä¸€æ¬¡æµè§ˆéƒ½æ›´åŠ èˆ’é€‚ - MindFlow**

